{"ast":null,"code":"import { useEffect } from 'react';\nimport useSWR from 'swr';\nimport format from 'comma-number';\nimport fetcher from '@/lib/fetcher';\nexport default function ViewCounter({\n  slug\n}) {\n  const {\n    data\n  } = useSWR(`/api/views/${slug}`, fetcher);\n  const views = data === null || data === void 0 ? void 0 : data.total;\n  useEffect(() => {\n    const registerView = () => fetch(`/api/views/${slug}`, {\n      method: 'POST'\n    });\n\n    registerView();\n  }, [slug]);\n  return `${views ? format(views) : '–––'} views`;\n}","map":{"version":3,"sources":["/Users/withoutwax/Project/withoutwax.me/components/ViewCounter.js"],"names":["useEffect","useSWR","format","fetcher","ViewCounter","slug","data","views","total","registerView","fetch","method"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAOC,OAAP,MAAoB,eAApB;AAEA,eAAe,SAASC,WAAT,CAAqB;AAAEC,EAAAA;AAAF,CAArB,EAA+B;AAC5C,QAAM;AAAEC,IAAAA;AAAF,MAAWL,MAAM,CAAE,cAAaI,IAAK,EAApB,EAAuBF,OAAvB,CAAvB;AACA,QAAMI,KAAK,GAAGD,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEE,KAApB;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,YAAY,GAAG,MACnBC,KAAK,CAAE,cAAaL,IAAK,EAApB,EAAuB;AAC1BM,MAAAA,MAAM,EAAE;AADkB,KAAvB,CADP;;AAKAF,IAAAA,YAAY;AACb,GAPQ,EAON,CAACJ,IAAD,CAPM,CAAT;AASA,SAAQ,GAAEE,KAAK,GAAGL,MAAM,CAACK,KAAD,CAAT,GAAmB,KAAM,QAAxC;AACD","sourcesContent":["import { useEffect } from 'react';\nimport useSWR from 'swr';\nimport format from 'comma-number';\n\nimport fetcher from '@/lib/fetcher';\n\nexport default function ViewCounter({ slug }) {\n  const { data } = useSWR(`/api/views/${slug}`, fetcher);\n  const views = data?.total;\n\n  useEffect(() => {\n    const registerView = () =>\n      fetch(`/api/views/${slug}`, {\n        method: 'POST'\n      });\n\n    registerView();\n  }, [slug]);\n\n  return `${views ? format(views) : '–––'} views`;\n}\n"]},"metadata":{},"sourceType":"module"}